<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <title>City Side By Side</title>
  <!-- https://developers.google.com/maps/documentation/javascript/localization -->
  <!-- https://developers-dot-devsite-v2-prod.appspot.com/maps/documentation/javascript/demos/localization?language=zh-TW -->
  <!-- <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script> -->

  <script src="./localization.js"></script>
  <script>
    // Build the JS API request node.
    var script = document.createElement('script');
    var query = '?key=AIzaSyCfPSLPNmQ9dpglVIDnoEGOk8ZCEyz9ACQ&callback=mapsLoaded';
    var langCode = getUrlParameter('language');
    // Try to be generous with accepting upper/lower case.
    if (langCode.length === 2) {
      langCode = langCode.toLowerCase();
    }
    if (langCode) {
      query += '&language=' + langCode;
    }
    var regionCode = getUrlParameter('region').toUpperCase();
    if (regionCode) {
      query += '&region=' + regionCode;
    }
    script.src = 'https://maps.googleapis.com/maps/api/js' + query;
    script.setAttribute('async', '');
    script.setAttribute('defer', '');
    document.head.appendChild(script);
  </script>
  <link rel="stylesheet" type="text/css" href="./style.css" />
  <script type="module" src="./index.ts"></script>
</head>

<body onload=initialize()>
  <div id="geocoding-error">test geocoding</div>

  <div id="selection-box">
    <p style="margin-top: 0;">
      Choose a language to update the map.</p>
    <div id="selection-div">
      <div>
        <label class="select-label" for="language">Language</label>
        <select id="language"></select>
      </div>
    </div>
  </div>
  <!-- <div id="map"></div> -->

  <!-- <div id="map-canvasLeft" class="map-canvas2"></div>
  <div id="map-canvasRight" class="map-canvas2"></div> -->
  <div id="map-canvas"></div>
  <!-- <div id="directions-box">Drag directions and click the map to geocode.</div> -->
  <!-- 
      The `defer` attribute causes the callback to execute after the full HTML
      document has been parsed. For non-blocking uses, avoiding race conditions,
      and consistent behavior across browsers, consider loading using Promises.
      See https://developers.google.com/maps/documentation/javascript/load-maps-js-api
      for more information.
      -->
  <!-- <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCfPSLPNmQ9dpglVIDnoEGOk8ZCEyz9ACQ&callback=initMap&v=weekly&language=en&region=JP"
    defer></script> -->

</body>

</html>